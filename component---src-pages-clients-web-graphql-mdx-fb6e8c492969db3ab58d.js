(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Ihq5:function(e,a,n){"use strict";n.r(a),n.d(a,"_frontmatter",(function(){return m})),n.d(a,"default",(function(){return d}));n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("91GP"),n("q1tI");var t=n("7ljp"),s=n("9Dj+"),c=n("YheF");var m={},o={_frontmatter:m},p=s.a;function d(e){var a=e.components,n=function(e,a){if(null==e)return{};var n,t,s={},c=Object.keys(e);for(t=0;t<c.length;t++)n=c[t],a.indexOf(n)>=0||(s[n]=e[n]);return s}(e,["components"]);return Object(t.mdx)(p,Object.assign({},o,n,{components:a,mdxType:"MDXLayout"}),Object(t.mdx)("h1",null,"GraphQL"),Object(t.mdx)("p",null,"JACDAC exposes the state of the ",Object(t.mdx)("a",Object.assign({parentName:"p"},{href:"/jacdac-ts/clients/web/dom"}),"DOM")," as a ",Object(t.mdx)("a",Object.assign({parentName:"p"},{href:"https://graphql.org/"}),"GraphQL")," instance."),Object(t.mdx)(c.a,{mdxType:"JacDaciQL"}),Object(t.mdx)("h2",null,"Schema"),Object(t.mdx)("div",{className:"gatsby-highlight","data-language":"graphql"},Object(t.mdx)("pre",Object.assign({parentName:"div"},{className:"language-graphql"}),Object(t.mdx)("code",Object.assign({parentName:"pre"},{className:"language-graphql"}),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token constant"}),"A")," identifiable node in the JacDac ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token constant"}),"DOM"),"\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"interface")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"Node")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    Global node identifier\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"id"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ID",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token constant"}),"A")," device made of services\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"type")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"Device")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"implements")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"Node")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    Global node identifier\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"id"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ID",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"deviceId"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ID",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"shortId"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," String",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"name"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," String",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"connected"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Boolean",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"announced"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Boolean",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"lastSeen"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Int",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"lastServiceUpdate"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Int",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"services"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"serviceName"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," String ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"serviceClass"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Int ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"-1"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"Service",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token constant"}),"A")," service node contains register and can send commands\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"type")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"Service")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"implements")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"Node")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    Global node identifier\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"id"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ID",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"device"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Device",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"serviceClass"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Int",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"name"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," String\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"register"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"address"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Int",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Register\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token constant"}),"A")," register ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"on")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"a")," device",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," can be set",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," get\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"type")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"Register")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"implements")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"Node")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    Global node identifier\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"id"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ID",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"service"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Service",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"address"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Int",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"data"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"Int",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"intValue"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Int\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token constant"}),"A")," bus of devices",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," service and register using the JacDac protocol\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"type")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"Query")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    indicates if the bus is connected\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"connected"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Boolean",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    indicates if the bus is connection\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"connecting"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Boolean",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    current time for the bus ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"ms",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"timestamp"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Int",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    queries a node from its id\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"node"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"id"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ID",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Node\n\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    queries devices ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"on")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token class-name"}),"the")," bus that match the criteria\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"devices"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"serviceName"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," String ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"serviceClass"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Int ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token number"}),"-1"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),"Device",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token operator"}),"!"),"\n\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),"\"\n    queries a device by it's device id\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token string"}),'""'),'"\n    ',Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"device"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"deviceId"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," String",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Device\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"schema")," ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token attr-name"}),"query"),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," Query\n",Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}")))),Object(t.mdx)("h2",null,"JacDaciQL"),Object(t.mdx)("p",null,"The ",Object(t.mdx)("code",Object.assign({parentName:"p"},{className:"language-text"}),"JacDaciQL")," component inlines the GraphiQL IDE for the JACDAC data store."),Object(t.mdx)("div",{className:"gatsby-highlight","data-language":"tsx"},Object(t.mdx)("pre",Object.assign({parentName:"div"},{className:"language-tsx"}),Object(t.mdx)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),Object(t.mdx)("span",Object.assign({parentName:"code"},{className:"token tag"}),Object(t.mdx)("span",Object.assign({parentName:"span"},{className:"token tag"}),Object(t.mdx)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"<"),Object(t.mdx)("span",Object.assign({parentName:"span"},{className:"token class-name"}),"JacDaciQL"))," ",Object(t.mdx)("span",Object.assign({parentName:"span"},{className:"token punctuation"}),"/>"))))))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-clients-web-graphql-mdx-fb6e8c492969db3ab58d.js.map