{"version":3,"sources":["webpack:///./src/components/KindChip.tsx","webpack:///./src/components/PacketSpecification.tsx","webpack:///./src/components/ServiceSpecificationSource.tsx","webpack:///./src/templates/service.mdx"],"names":["KindChip","props","kind","className","icon","KindIcon","Chip","size","label","kindName","useStyles","makeStyles","theme","createStyles","root","marginBottom","spacing","chip","margin","PacketSpecification","serviceClass","packetInfo","classes","id","identifier","name","IDChip","optional","derived","description","isCommand","DeviceList","showDeviceName","commandIdentifier","isRegister","registerIdentifier","isEvent","eventIdentifier","Alert","severity","toString","flexGrow","backgroundColor","palette","background","paper","pre","padding","whiteSpec","ServiceSpecificationSource","classIdentifier","useState","value","setValue","spec","serviceSpecificationFromClassIdentifier","Paper","square","Tabs","onChange","event","newValue","aria-label","Tab","a11yProps","source","JSON","stringify","map","src","index","TabPanel","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","pageContext","node","style","marginLeft","notes","short","extends","length","extend","to","serviceSpecificationFromName","parentName","packets","pkt","href","shortId","isMDXComponent"],"mappings":"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","file":"component---src-templates-service-mdx-67d3f8e3488ac54dae72.js","sourcesContent":["import React from \"react\"\nimport { Chip } from \"@material-ui/core\";\nimport KindIcon, { kindName } from \"./KindIcon\";\n\nexport default function KindChip(props: { kind: string, className?: string }) {\n    const { kind, className } = props;\n    const icon = KindIcon({ kind })\n    return <Chip className={className} size=\"small\" label={kindName(kind)} icon={icon} />\n}","import { isRegister, isEvent, isCommand } from \"../../../src/dom/spec\"\n// tslint:disable-next-line: no-submodule-imports\nimport Alert from '@material-ui/lab/Alert';\nimport React, { Fragment } from \"react\";\n// tslint:disable-next-line: no-submodule-imports\nimport Chip from '@material-ui/core/Chip';\nimport DeviceList from \"./DeviceList\";\nimport { makeStyles, createStyles } from \"@material-ui/core\";\nimport IDChip from \"./IDChip\";\nimport KindChip from \"./KindChip\";\n\nconst useStyles = makeStyles((theme) => createStyles({\n    root: {\n        marginBottom: theme.spacing(1)\n    },\n    chip: {\n        margin: theme.spacing(0.5),\n    },\n}),\n);\n\nexport default function PacketSpecification(props: { serviceClass: number, packetInfo: jdspec.PacketInfo }) {\n    const { serviceClass, packetInfo } = props;\n    const classes = useStyles();\n    if (!packetInfo)\n        return <Alert severity=\"error\">{`Unknown register ${serviceClass.toString(16)}:${packetInfo.identifier}`}</Alert>\n\n    return <div className={classes.root}>\n        <h3 id={`${packetInfo.kind}:${packetInfo.identifier}`}>{packetInfo.name}\n            <IDChip className={classes.chip} id={packetInfo.identifier} />\n            <KindChip className={classes.chip} kind={packetInfo.kind} />\n            {packetInfo.optional && <Chip className={classes.chip} size=\"small\" label=\"optional\" />}\n            {packetInfo.derived && <Chip className={classes.chip} size=\"small\" label=\"derived\" />}\n        </h3>\n        <p>{packetInfo.description}</p>\n        {isCommand(packetInfo) && <DeviceList serviceClass={serviceClass} showDeviceName={true} commandIdentifier={packetInfo.identifier} />}\n        {isRegister(packetInfo) && <DeviceList serviceClass={serviceClass} showDeviceName={true} registerIdentifier={packetInfo.identifier} />}\n        {isEvent(packetInfo) && <DeviceList serviceClass={serviceClass} showDeviceName={true} eventIdentifier={packetInfo.identifier} />}\n    </div>\n}","import React, { useState } from 'react';\n// tslint:disable-next-line: no-submodule-imports\nimport { makeStyles, Theme } from '@material-ui/core/styles';\n// tslint:disable-next-line: no-submodule-imports\nimport Tabs from '@material-ui/core/Tabs';\n// tslint:disable-next-line: no-submodule-imports\nimport Tab from '@material-ui/core/Tab';\nimport { serviceSpecificationFromClassIdentifier } from '../../../src/dom/spec';\nimport { Paper } from '@material-ui/core';\nimport TabPanel, { a11yProps } from './TabPanel';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    root: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.paper,\n        marginBottom: theme.spacing(1)\n    },\n    pre: {\n        margin: \"0\",\n        padding: \"0\",\n        backgroundColor: \"transparent\",\n        whiteSpec: \"pre-wrap\"\n    }\n}));\n\nexport default function ServiceSpecificationSource(props: { classIdentifier: number }) {\n    const { classIdentifier } = props;\n    const classes = useStyles();\n    const [value, setValue] = useState(0);\n    const spec = serviceSpecificationFromClassIdentifier(classIdentifier)\n\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n        setValue(newValue);\n    };\n\n    return (\n        <div className={classes.root}>\n            <Paper square>\n                <Tabs value={value} onChange={handleChange} aria-label=\"View specification formats\">\n                    <Tab label=\"Markdown\" {...a11yProps(0)} />\n                    <Tab label=\"JSON\" {...a11yProps(1)} />\n                </Tabs>\n                {[spec.source, JSON.stringify(spec, null, 2)].map((src, index) => <TabPanel value={value} index={index}>\n                    <pre className={classes.pre}>{src}</pre>\n                </TabPanel>)}\n            </Paper>\n        </div>\n    );\n}\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/jacdac-ts/jacdac-ts/docs/src/components/layout.tsx\";\nimport DeviceList from \"../components/DeviceList\";\nimport { Link } from 'gatsby-theme-material-ui';\nimport { Fragment } from \"react\";\nimport { serviceSpecificationFromName, isRegister, isEvent, isCommand } from \"../../../src/dom/spec\";\nimport PacketSpecification from \"../components/PacketSpecification\";\nimport Chip from '@material-ui/core/Chip';\nimport IDChip from \"../components/IDChip\";\nimport ServiceSpecificationSource from \"../components/ServiceSpecificationSource\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <h1>{props.pageContext.node.name}\n    <span style={{\n        marginLeft: \"1rem\"\n      }}><IDChip id={props.pageContext.node.classIdentifier} mdxType=\"IDChip\" /></span>\n    </h1>\n    <p>{props.pageContext.node.notes.short}</p>\n    <Fragment mdxType=\"Fragment\">\n      {!!props.pageContext.node.extends?.length && <p>\n        <span>Extends </span>\n    {props.pageContext.node.extends.map(extend => <Link to={`/services/${extend}`} mdxType=\"Link\">{serviceSpecificationFromName(extend).name}</Link>)}\n    .\n    </p>}\n    </Fragment>\n    <h2 {...{\n      \"id\": \"packets\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#packets\",\n        \"aria-label\": \"packets permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Packets`}</h2>\n    <Fragment mdxType=\"Fragment\">\n    {props.pageContext.node.packets.map(pkt => <PacketSpecification serviceClass={props.pageContext.node.classIdentifier} packetInfo={pkt} mdxType=\"PacketSpecification\" />)}\n    </Fragment>\n    <h2 {...{\n      \"id\": \"specification\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#specification\",\n        \"aria-label\": \"specification permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Specification`}</h2>\n    <ServiceSpecificationSource classIdentifier={props.pageContext.node.classIdentifier} mdxType=\"ServiceSpecificationSource\" />\n    <h2 {...{\n      \"id\": \"see-also\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#see-also\",\n        \"aria-label\": \"see also permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`See Also`}</h2>\n    <ul>\n    <li><a href={`https://github.com/microsoft/jacdac/tree/master/services/${props.pageContext.node.shortId}.md`}>Edit specification</a>.</li>\n    <li>Read <Link to=\"/spec/service-spec-language\" mdxType=\"Link\">Service Specification Language</Link> reference</li>\n    <li>Using services in JavaScript with <Link to={`/clients/web/dom/service`} mdxType=\"Link\">JDService</Link></li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}